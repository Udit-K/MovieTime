!function(){"use strict";function e(e){e.when("/login",{templateUrl:"app/views/login.view.html",controller:"LoginController",controllerAs:"loginVm"}).when("/signup",{templateUrl:"app/views/signup.view.html",controller:"SignupController",controllerAs:"signupVm"}).when("/video",{templateUrl:"app/views/videohome.html",controller:"VideoHomeController",controllerAs:"videoVm"}).when("/video-detail/:id",{templateUrl:"app/views/video-detail.tmpl.html",controller:"VideoDetailController",controllerAs:"videoDetailVm"}).otherwise({redirectTo:"/login"})}function o(){console.log("running..")}angular.module("movieApp",["ngRoute","ngMessages"]).config(e).run(o),e.$inject=["$routeProvider"],o.$inject=[]}(),function(){"use strict";function e(e,o,n){function t(e){return e.data}function i(e){return o.reject("Error:"+e.statusText)}var r=this;r.getVideos=function(){return e.get(n.API_HOST+"/videos").then(t,i)},r.getVideoById=function(o){return e.get(n.API_HOST+"/videos/"+o).then(t,i)}}angular.module("movieApp").service("videoService",e),e.$inject=["$http","$q","CONFIG"]}(),function(){"use strict";function e(e,o,n){function t(e){return e.data}function i(e){return o.reject("ERROR: "+e.statusText)}var r=this;r.signUpUser=function(o){return e.post(n.API_HOST+"/users",o).then(t,i)},r.signInUser=function(o,r){return e.get(n.API_HOST+"/users/"+o+"/"+r).then(t,i)}}angular.module("movieApp").service("userService",e),e.$inject=["$http","$q","CONFIG"]}(),function(){"use strict";function e(e,o,n,t){var i=this;i.allMovies=[];var r=localStorage.getItem("myUser");i.myUser=JSON.parse(r),i.logOut=function(){localStorage.removeItem("myUser"),t.path("/login")},console.log("my user is "+i.myUser),e.getVideos().then(function(e){i.allMovies=e,console.log(e)},function(e){console.log("ERRRRR : "+e)}),i.sorter={sortBy:"imdbRating",sortOrder:!1}}angular.module("movieApp").controller("VideoHomeController",e),e.$inject=["videoService","$rootScope","userService","$location"]}(),function(){"use strict";function e(e,o){var n=this;n.video={},console.log("video detail controller invoked"),console.log(o),e.getVideoById(o.id).then(function(e){n.video=e,console.log(e)},function(e){console.log(e)})}angular.module("movieApp").controller("VideoDetailController",e),e.$inject=["videoService","$routeParams"]}(),function(){"use strict";function e(e,o){var n=this;n.createUser=function(){console.log(n.newUser),e.signUpUser(n.newUser).then(function(e){e&&(alert("Sign up Successful, Redirecting..."),o.path("/login"))},function(e){console.log(e)})}}angular.module("movieApp").controller("SignupController",e),e.$inject=["userService","$location"]}(),function(){"use strict";function e(e,o){var n=this;n.signIn=function(){console.log("Trying login using :"+n.email+", "+n.pass),e.signInUser(n.email,n.pass).then(function(e){console.log(e),console.log("user signed in.."),localStorage.setItem("myUser",JSON.stringify(e)),o.path("/video")},function(e){console.log(e),alert("Error signing in... INVALID CREDENTIALS")})}}angular.module("movieApp").controller("LoginController",e),e.$inject=["userService","$location"]}(),function(){"use strict";angular.module("movieApp").constant("CONFIG",{API_HOST:"http://localhost:8080/movie-rest/api"})}();